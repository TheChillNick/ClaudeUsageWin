<Window x:Class="ClaudeUsageWin.MiniWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        SizeToContent="WidthAndHeight"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        Deactivated="Window_Deactivated">

    <Border x:Name="RootBorder" Background="#CC1E1E1E" CornerRadius="20" Padding="14,7"
            Cursor="SizeAll"
            MouseLeftButtonDown="Border_MouseLeftButtonDown">
        <Border.Effect>
            <DropShadowEffect Color="Black" Opacity="0.55" BlurRadius="12" ShadowDepth="2"/>
        </Border.Effect>
        <Border.ContextMenu>
            <ContextMenu>
                <MenuItem Header="Show main window"  Click="ShowMain_Click"/>
                <MenuItem Header="Hide mini widget"  Click="HideMini_Click"/>
                <Separator/>
                <MenuItem Header="Quit"              Click="Quit_Click"/>
            </ContextMenu>
        </Border.ContextMenu>

        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
            <!-- Percentage -->
            <TextBlock x:Name="PctText" Text="0%"
                       FontSize="12" FontWeight="Bold" Foreground="White"
                       VerticalAlignment="Center" Margin="0,0,7,0"/>

            <!-- 10-block progress bar -->
            <TextBlock x:Name="BarText" Text="░░░░░░░░░░"
                       FontSize="12" FontFamily="Consolas"
                       Foreground="#4CAF50" VerticalAlignment="Center" Margin="0,0,7,0"/>

            <!-- Optional cost label (visible when >$0) -->
            <TextBlock x:Name="CostText" Text=""
                       FontSize="11" Foreground="#9E9E9E"
                       VerticalAlignment="Center" Visibility="Collapsed"/>
        </StackPanel>
    </Border>
</Window>
