<Window x:Class="ClaudeUsageWin.SetupWizardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Claude Usage â€” Setup"
        Width="420" Height="420"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Border Background="#2B2B2B" CornerRadius="12" Padding="28,24">
        <Border.Effect>
            <DropShadowEffect Color="Black" Opacity="0.5" BlurRadius="20" ShadowDepth="4"/>
        </Border.Effect>

        <StackPanel>
            <!-- Step indicators -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,24">
                <Ellipse x:Name="Step1Dot" Width="10" Height="10" Margin="4,0"
                         Fill="White"/>
                <Ellipse x:Name="Step2Dot" Width="10" Height="10" Margin="4,0"
                         Fill="#444"/>
                <Ellipse x:Name="Step3Dot" Width="10" Height="10" Margin="4,0"
                         Fill="#444"/>
            </StackPanel>

            <!-- Step 1: Welcome -->
            <StackPanel x:Name="Step1Panel">
                <TextBlock Text="&#x1F44B; Welcome to Claude Usage" FontSize="18" FontWeight="Bold"
                           Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,12"/>
                <TextBlock Text="Monitor your Claude AI usage limits right from the system tray."
                           Foreground="#9E9E9E" FontSize="13" TextWrapping="Wrap"
                           HorizontalAlignment="Center" TextAlignment="Center" Margin="0,0,0,24"/>
                <Button Content="Get Started &#x2192;" Background="#4CAF50" Foreground="White"
                        FontSize="14" Padding="24,10" HorizontalAlignment="Center"
                        Cursor="Hand" Click="NextBtn_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="8"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>

            <!-- Step 2: Auth -->
            <StackPanel x:Name="Step2Panel" Visibility="Collapsed">
                <TextBlock Text="&#x1F511; Connect Your Account" FontSize="16" FontWeight="Bold"
                           Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,12"/>
                <Border x:Name="WizardAutoAuthBorder" CornerRadius="6" Padding="12" Margin="0,0,0,12">
                    <TextBlock x:Name="WizardAutoAuthText" Foreground="White" FontSize="12"
                               TextWrapping="Wrap"/>
                </Border>
                <TextBlock Text="Or enter your session key manually:"
                           Foreground="#9E9E9E" FontSize="12" Margin="0,0,0,6"/>
                <PasswordBox x:Name="WizardKeyBox" Background="#1A1A1A" Foreground="White"
                             FontSize="13" Padding="10,7" Height="36" BorderThickness="1"
                             BorderBrush="#444"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
                    <Button Content="Back" Background="#3D3D3D" Foreground="White"
                            Padding="16,8" Margin="0,0,8,0" Cursor="Hand" Click="BackBtn_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="6"
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    <Button Content="Continue &#x2192;" Background="#4CAF50" Foreground="White"
                            Padding="16,8" Cursor="Hand" Click="NextBtn_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="6"
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </StackPanel>

            <!-- Step 3: Done -->
            <StackPanel x:Name="Step3Panel" Visibility="Collapsed">
                <TextBlock Text="&#x2705; You're all set!" FontSize="18" FontWeight="Bold"
                           Foreground="White" HorizontalAlignment="Center" Margin="0,0,0,12"/>
                <TextBlock Text="Claude Usage is now tracking your limits from the system tray. Click the tray icon to view your usage."
                           Foreground="#9E9E9E" FontSize="13" TextWrapping="Wrap"
                           HorizontalAlignment="Center" TextAlignment="Center" Margin="0,0,0,24"/>
                <Button Content="Start Monitoring" Background="#4CAF50" Foreground="White"
                        FontSize="14" Padding="24,10" HorizontalAlignment="Center"
                        Cursor="Hand" Click="FinishBtn_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="8"
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
